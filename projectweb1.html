<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title id="pgTitle">Project – Detail</title>
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="styleweb.css" />
  <style>
    /* ====== dasar ====== */
    :root {
      --pd-max: 1270px;
      --pd-gap: 28px;
      --pd-card: rgba(255, 255, 255, .10);
      --pd-stroke: rgba(255, 255, 255, .18);
      --pd-soft: 0 18px 36px rgba(0, 0, 0, .28);
      --bg1: #083d3b;
      --bg2: #0f8278;
      --bg3: #14b8a6;
      --readable: 66ch;
      --stats-maxw: 650px;
      /* key features spacing */
      --feat-card-pad: 14px 16px;
      --feat-head-mb: 6px;
      --feat-list-gap: 8px;
      --feat-item-pad: 8px 10px;
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box
    }

    html,
    body {
      background: transparent !important;
      overflow-x: hidden
    }

    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      z-index: -1;
      background: linear-gradient(135deg, var(--bg1) 0%, var(--bg2) 55%, var(--bg3) 100%);
      transform: translateZ(0);
      will-change: transform;
    }

    /* ====== layout utama ====== */
    .main-content {
      padding-top: 50px;
      padding-bottom: 32px;
      flex: 1 0 auto;
      margin-top: 74px
    }

    .main-content .container {
      max-width: var(--pd-max);
      margin: 0 auto;
      padding-inline: clamp(14px, 4vw, 20px)
    }

    .pd-hero {
      display: grid;
      grid-template-columns: 1.05fr .95fr;
      align-items: start;
      gap: var(--pd-gap);
      margin-top: 0
    }

    .pd-hero>* {
      min-width: 0
    }

    /* ⬇️ Perbarui breakpoint: satu kolom hanya sampai 980px */
    @media (max-width:980px) {
      .pd-hero {
        grid-template-columns: minmax(0, 1fr)
      }
    }

    /* ====== tipografi / kiri ====== */
    .pd-title {
      font-size: clamp(30px, 4.2vw, 48px);
      margin: .25rem 0 .001rem;
      letter-spacing: .2px
    }

    .pd-lead {
      max-width: var(--readable);
      margin: 0 0 16px;
      font-size: 1.06rem;
      line-height: 1.7;
      opacity: .95;
      text-align: justify;
      text-justify: inter-word;
      hyphens: auto;
      overflow-wrap: anywhere;
      hanging-punctuation: first allow-end;
    }

    @supports (text-wrap:pretty) {
      .pd-lead {
        text-wrap: pretty
      }
    }

    /* ====== STATS ====== */
    .pd-stats {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 18px;
      margin: 25px 0;
      max-width: var(--stats-maxw)
    }

    .pd-stat {
      background: var(--pd-card);
      border: 1px solid var(--pd-stroke);
      border-radius: 16px;
      padding: 14px 16px;
      min-height: 84px;
      display: grid;
      grid-template-columns: 52px 1fr;
      align-items: center;
      gap: 1px;
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
    }

    .pd-stat::before {
      content: "";
      width: 44px;
      height: 44px;
      border-radius: 12px;
      border: 1px solid var(--pd-stroke);
      background: radial-gradient(60% 60% at 30% 30%, rgba(255, 255, 255, .18), rgba(255, 255, 255, 0) 70%), rgba(255, 255, 255, .08);
      background-color: rgba(255, 255, 255, .85);
      -webkit-mask-position: center;
      -webkit-mask-repeat: no-repeat;
      -webkit-mask-size: 60%;
      mask-position: center;
      mask-repeat: no-repeat;
      mask-size: 60%;
    }

    .pd-stat:nth-child(1)::before {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      -webkit-mask: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='white' d='M8 9l-4 3 4 3v2l-6-5 6-5v2zm8-4l6 5-6 5v-2l4-3-4-3V5z'/></svg>") center/60% no-repeat;
      mask: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='white' d='M8 9l-4 3 4 3v2l-6-5 6-5v2zm8-4l6 5-6 5v-2l4-3-4-3V5z'/></svg>") center/60% no-repeat;
    }

    .pd-stat:nth-child(2)::before {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      -webkit-mask: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='white' d='M12 2L22 7L12 12L2 7L12 2zm0 7L22 14L12 19L2 14L12 9zm0 7L22 21L12 26L2 21L12 16z'/></svg>") center/60% no-repeat;
      mask: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='white' d='M12 2L22 7L12 12L2 7L12 2zm0 7L22 14L12 19L2 14L12 9zm0 7L22 21L12 26L2 21L12 16z'/></svg>") center/60% no-repeat;
    }

    .pd-num {
      font-weight: 800;
      font-size: 1.5rem;
      line-height: 1;
      margin-bottom: 4px
    }

    .pd-lbl {
      opacity: .9;
      font-size: .95rem
    }

    .pd-stat:hover,
    .pd-stat:focus-within {
      transform: translateY(-2px);
      background: rgba(255, 255, 255, .12);
      border-color: rgba(255, 255, 255, .28);
      box-shadow: 0 10px 24px rgba(0, 0, 0, .30)
    }

    /* ====== CTA (Github) ====== */
    .pd-cta {
      margin: 20px 0 8px;
      max-width: var(--stats-maxw)
    }

    .pd-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 16px;
      border-radius: 12px;
      border: 1px solid var(--pd-stroke);
      background: rgba(255, 255, 255, .08);
      color: #eafff7;
      text-decoration: none;
      transition: transform .15s, background .15s, border-color .15s, box-shadow .15s;
      width: 100%;
    }

    .pd-btn:hover {
      transform: translateY(-1px);
      background: rgba(255, 255, 255, .16);
      box-shadow: var(--pd-soft)
    }

    .pd-btn.primary {
      background: #0EA5A6;
      border-color: #13c8c9;
      color: #072b28;
      font-weight: 700
    }

    .pd-btn.primary:hover {
      background: #14b8a6;
      border-color: #2fd6d7
    }

    /* ====== Technologies Used ====== */
    .pd-tech {
      margin-top: 27px;
      max-width: var(--stats-maxw)
    }

    .pd-tech-title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1.18rem;
      font-weight: 700;
      letter-spacing: .2px;
      margin: 6px 0 10px
    }

    .pd-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px
    }

    .pd-chip {
      padding: 6px 10px;
      border-radius: 999px;
      background: var(--pd-card);
      border: 1px solid var(--pd-stroke);
      font-size: .88rem;
      transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease;
    }

    .pd-chip:hover {
      transform: translateY(-1px);
      background: rgba(255, 255, 255, .16);
      border-color: rgba(255, 255, 255, .26);
      box-shadow: 0 6px 14px rgba(0, 0, 0, .28)
    }

    .pd-chip:focus-visible {
      outline: none;
      background: rgba(255, 255, 255, .16);
      border-color: rgba(255, 255, 255, .32);
      box-shadow: 0 0 0 3px rgba(20, 184, 166, .25)
    }

    /* ====== blok kanan ====== */
    .pd-right {
      display: grid;
      gap: 18px;
      align-content: start;
      min-width: 0
    }

    .pd-mock {
      background: var(--pd-card);
      border: 2px solid var(--pd-stroke);
      border-radius: 15px;
      padding: 17px;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      box-shadow: var(--pd-soft);
      overflow: hidden;
      cursor: pointer;
      position: relative;
    }

    .pd-mock img {
      width: 100%;
      height: auto;
      border-radius: 12px;
      display: block;
      transition: transform .3s ease, filter .3s ease;
      transform-origin: center
    }

    .pd-mock:hover img {
      transform: scale(1.15)
    }

    .pd-mock:hover {
      transform: translateY(-2px);
      box-shadow: 0 25px 60px rgba(0, 0, 0, .35);
      border-color: rgba(255, 255, 255, .25)
    }

    .pd-thumbs {
      display: flex;
      gap: 10px;
      padding: 8px 14px 15px;
      overflow-x: auto;
      scrollbar-width: thin;
      scrollbar-gutter: stable
    }

    .pd-thumb {
      flex: 0 0 auto;
      width: 84px;
      height: 58px;
      border: none;
      background: transparent;
      padding: 0;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform .15s
    }

    .pd-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 12px;
      display: block
    }

    .pd-thumb:hover {
      transform: translateY(-2px)
    }

    .pd-thumb.active img {
      box-shadow: 0 0 0 6px rgba(8, 77, 74, .40), 0 14px 16px rgba(0, 0, 0, .28)
    }

    .pd-section {
      margin-top: 0
    }

    .pd-section h2 {
      font-size: 1.35rem;
      margin-bottom: 16px;
      letter-spacing: .3px
    }

    /* ====== KEY FEATURES card ====== */
    .pd-feature-card {
      background: var(--pd-card);
      border: 1px solid var(--pd-stroke);
      border-radius: 16px;
      padding: var(--feat-card-pad);
      box-shadow: 0 6px 18px rgba(0, 0, 0, .25);
      transition: transform .2s, box-shadow .2s, border-color .2s, background .2s
    }

    .pd-feature-card:hover {
      background: rgba(255, 255, 255, .12);
      border-color: rgba(255, 255, 255, .24);
      box-shadow: 0 10px 28px rgba(0, 0, 0, .35);
      transform: translateY(-2px)
    }

    .pd-feature-head {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: var(--feat-head-mb);
      font-weight: 800;
      letter-spacing: .3px
    }

    .pd-feature-head i {
      font-size: 1.2rem;
      color: #b8fff3
    }

    .pd-features {
      list-style: none;
      margin: 0;
      padding: 2px 0;
      display: flex;
      flex-direction: column;
      gap: var(--feat-list-gap)
    }

    .pd-features li {
      display: flex;
      gap: 10px;
      align-items: flex-start;
      border-radius: 12px;
      padding: var(--feat-item-pad);
      background: transparent;
      border: 1px solid transparent;
      transition: background .15s, border-color .15s, box-shadow .15s, transform .15s
    }

    .pd-features li i {
      font-size: 1rem;
      margin-top: 2px;
      color: #b8fff3;
      flex: 0 0 auto
    }

    .pd-features li span {
      color: #eafff7;
      font-size: .98rem;
      font-weight: 500;
      line-height: 1.45
    }

    .pd-features li:hover {
      background: rgba(255, 255, 255, .08);
      border-color: var(--pd-stroke);
      box-shadow: 0 3px 10px rgba(0, 0, 0, .22);
      transform: translateY(-1px)
    }

    /* ====== breadcrumb ====== */
    .pd-breadcrumb {
      display: flex;
      align-items: center;
      gap: 6px;
      margin: 1px 0 1px;
      color: rgba(255, 255, 255, .85);
      font-size: .90rem
    }

    .pd-breadcrumb a {
      color: inherit;
      text-decoration: none;
      opacity: .95
    }

    .pd-breadcrumb a:hover {
      text-decoration: underline;
      opacity: 1
    }

    .pd-breadcrumb .sep {
      opacity: .5
    }

    /* ====== modal ====== */
    .image-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, .9);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity .3s ease, visibility .3s ease;
      cursor: pointer
    }

    .image-modal.active {
      opacity: 1;
      visibility: visible
    }

    .modal-content {
      position: relative;
      max-width: 90vw;
      max-height: 90vh;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: default
    }

    .modal-image {
      max-width: 100%;
      max-height: 100%;
      border-radius: 12px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, .5);
      transition: transform .3s ease
    }

    .modal-close {
      position: fixed;
      top: 33px;
      right: 20px;
      background: rgba(0, 0, 0, .7);
      border: 2px solid rgba(255, 255, 255, .3);
      border-radius: 50%;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: #fff;
      font-size: 22px;
      transition: all .3s ease;
      z-index: 10001;
      backdrop-filter: blur(10px)
    }

    .modal-nav {
      position: fixed;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      z-index: 10002;
      background: rgba(0, 0, 0, .65);
      border: 2px solid rgba(255, 255, 255, .35);
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 26px;
      transition: transform .18s, background .18s, opacity .18s, border-color .18s
    }

    .modal-nav.prev {
      left: 25px
    }

    .modal-nav.next {
      right: 25px
    }

    .modal-counter {
      position: fixed;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%);
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(0, 0, 0, .7);
      border: 2px solid rgba(255, 255, 255, .35);
      color: #fff;
      font-weight: 700;
      font-size: 19px;
      line-height: 1;
      z-index: 10004;
      backdrop-filter: blur(6px);
      pointer-events: none
    }

    /* ====== MOBILE/TABLET ====== */
    @media (max-width:768px) {
      .main-content .container {
        padding-inline: 16px
      }

      .pd-title,
      .pd-lead,
      .pd-stats,
      .pd-cta,
      .pd-tech,
      .pd-section {
        max-width: 100%
      }

      .pd-lead {
        font-size: 1rem;
        line-height: 1.8
      }

      .pd-mock {
        padding: 14px
      }
    }

    /* Tablet narrow (768–980px) */
    @media (min-width:768px) and (max-width:980px) {

      .pd-stats,
      .pd-cta,
      .pd-tech {
        max-width: 100%
      }

      .pd-stats {
        gap: 16px;
        margin: 20px 0
      }

      .pd-tech {
        margin-top: 22px
      }

      .pd-chips {
        gap: 12px
      }

      .pd-lead {
        max-width: 72ch;
        text-align: left;
        line-height: 1.65;
        margin-bottom: 18px
      }
    }

    /* MOBILE compact <=560px */
    @media (max-width:560px) {
      .main-content {
        padding-top: 1px !important;
        padding-bottom: 40px !important
      }

      .pd-breadcrumb {
        margin: 2px 0 10px;
        font-size: .78rem
      }

      .pd-thumb {
        width: 72px;
        height: 50px
      }

      .pd-stats {
        gap: 12px
      }

      .pd-stat {
        padding: 12px 12px;
        min-height: auto;
        grid-template-columns: 36px 1fr;
        align-items: center;
        gap: 10px
      }

      .pd-stat::before {
        width: 36px;
        height: 36px;
        border-radius: 50%
      }

      .pd-stat>div {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        min-width: 0
      }

      .pd-num {
        font-size: 1.22rem;
        line-height: 1.1;
        margin: 0 0 2px
      }

      .pd-lbl {
        font-size: .88rem;
        line-height: 1.2;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis
      }
    }

    @media (max-width:900px) {
      .pd-features {
        gap: 10px
      }
    }

    @media (max-width:360px) {
      body::before {
        background: linear-gradient(120deg, var(--bg1) 0%, var(--bg2) 55%, var(--bg3) 100%)
      }
    }

    @media (max-width:768px) {
      .nav-links {
        display: none
      }

      .main-content {
        margin-top: 90px;
        padding-top: 8px
      }
    }

    @media (min-width:1400px) {
      .navbar .brand {
        margin-left: -2rem
      }
    }
  </style>
</head>

<body>
  <header class="navbar">
    <div class="nav-container">
      <div class="brand">
        <a href="detailsweb.html" class="back-btn" title="Back to Home" aria-label="Back"><i
            class="bx bx-chevron-left"></i></a>
        <a href="index.html" class="logo">Web Development</a>
      </div>
      <nav>
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="index.html#about">About</a></li>
          <li><a href="index.html#services">Projects</a></li>
          <li><a href="index.html#testimonial">Certificates</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="main-content">
    <div class="container">
      <nav class="pd-breadcrumb" aria-label="Breadcrumb">
        <a href="index.html#services">Experiences</a><span class="sep">/</span>
        <a href="detailsweb.html">Web Development</a><span class="sep">/</span>
        <span id="crumbTitle">Model Tester NER</span>
      </nav>

      <section class="pd-hero">
        <div>
          <h1 id="pTitle" class="pd-title">Loading…</h1>
          <p id="pLead" class="pd-lead"></p>

          <div class="pd-stats">
            <div class="pd-stat">
              <div>
                <div id="statTech" class="pd-num">–</div>
                <div class="pd-lbl">Total Teknologi</div>
              </div>
            </div>
            <div class="pd-stat">
              <div>
                <div id="statFeat" class="pd-num">–</div>
                <div class="pd-lbl">Fitur Utama</div>
              </div>
            </div>
          </div>

          <div class="pd-cta">
            <a id="btnCode" class="pd-btn primary" target="_blank" rel="noopener">
              <i class='bx bx-play-circle'></i> Github
            </a>
          </div>

          <div class="pd-tech">
            <h3 class="pd-tech-title"><i class='bx bx-code-curly'></i>Technologies Used</h3>
            <div id="techList" class="pd-chips"></div>
          </div>
        </div>

        <div class="pd-right">
          <div class="pd-mock" id="imagePreview"><img id="pCover" alt="Preview"></div>
          <div class="pd-thumbs" id="thumbStrip"></div>

          <!-- KEY FEATURES -->
          <section class="pd-section">
            <div class="pd-feature-card">
              <div class="pd-feature-head">
                <i class='bx bxs-star'></i>
                <h2 style="margin:0">Key Features</h2>
              </div>
              <ul id="featureList" class="pd-features"></ul>
            </div>
          </section>
        </div>
      </section>
    </div>
  </main>

  <!-- Modal -->
  <div class="image-modal" id="imageModal">
    <div class="modal-content" id="modalContent">
      <div class="modal-counter" id="modalCounter"></div>
      <div class="modal-close" id="modalClose"><i class='bx bx-x'></i></div>
      <button class="modal-nav prev" id="modalPrev" aria-label="Previous"><i class='bx bx-chevron-left'></i></button>
      <button class="modal-nav next" id="modalNext" aria-label="Next"><i class='bx bx-chevron-right'></i></button>
      <img class="modal-image" id="modalImage" alt="Full Preview">
    </div>
  </div>

  <script>
    /* ---- data ---- */
    const PROJECT_DETAIL = {
      "model-tester-ner": {
        title: "Model Tester NER",
        lead: "A modern, responsive portfolio website built with vanilla JavaScript and CSS3, featuring dynamic content loading from JSON data. This project showcases advanced web development techniques including smooth animations, responsive design, and optimized performance. The website implements a glass-morphism design aesthetic with dark theme, featuring smooth scrolling navigation, animated typing effects, and interactive project galleries. The architecture allows for easy content updates through JSON configuration files, making it maintainable and scalable.",
        cover: "assets/web/card1/ner.jpeg",
        images: ["assets/web/card1/ner.jpeg", "assets/web/card1/ner2.jpeg", "assets/web/card1/ner3.jpeg", "assets/web/card1/ner4.jpeg"],
        demo: "#",
        code: "https://github.com/your/repo",
        technologies: ["Python", "FastAPI", "Uvicorn", "Docker", "HTML", "CSS", "JS", "HTML", "CSS", "JS", "HTML", "CSS", "JS"],
        features: [
          "Form uji teks & unggah file (.txt/.csv).",
          "Highlight entitas PER/ORG/LOC realtime.",
          "Ekspor hasil prediksi ke CSV.",
          "Deployment containerized (Docker)."
        ]
      }
    };

    /* ---- helpers ---- */
    const $ = s => document.querySelector(s);
    const params = new URLSearchParams(location.search);
    const id = params.get("id") || "model-tester-ner";
    const data = PROJECT_DETAIL[id] || { title: "Project Not Found", lead: "ID proyek tidak dikenali. Kembali ke halaman daftar.", cover: "", demo: "#", code: "#", technologies: [], features: [] };

    $("#pgTitle").textContent = data.title + " – Project Detail";
    $("#pTitle").textContent = data.title;
    $("#pLead").textContent = data.lead;
    document.getElementById('crumbTitle').textContent = (data.title || '').trim() || 'Model Tester NER';

    /* ---- gallery ---- */
    const mainImg = document.getElementById('pCover');
    const thumbsWrap = document.getElementById('thumbStrip');
    const gallery = (Array.isArray(data.images) && data.images.length ? data.images : (data.cover ? [data.cover] : []));
    let current = 0;

    function renderMain() {
      if (!gallery.length) { document.getElementById('imagePreview').style.display = 'none'; return; }
      mainImg.src = gallery[current];
      mainImg.alt = data.title + ' – preview ' + (current + 1);
    }
    function renderThumbs() {
      if (!thumbsWrap) return;
      thumbsWrap.innerHTML = gallery.map((src, i) => `
        <button class="pd-thumb ${i === current ? 'active' : ''}" data-i="${i}" aria-label="Preview ${i + 1}">
          <img src="${src}" alt="thumb ${i + 1}">
        </button>`).join('');
      thumbsWrap.querySelectorAll('.pd-thumb').forEach(btn => {
        btn.addEventListener('click', () => {
          current = +btn.dataset.i; renderMain();
          thumbsWrap.querySelectorAll('.pd-thumb').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
        });
      });
    }
    renderMain(); renderThumbs();

    /* ---- angka & list ---- */
    $("#btnCode").href = data.demo || "#";
    $("#statTech").textContent = data.technologies.length;
    $("#statFeat").textContent = data.features.length;
    $("#techList").innerHTML = data.technologies.map(t => `<span class="pd-chip">${t}</span>`).join("");
    $("#featureList").innerHTML = data.features.map(f => `<li><i class='bx bx-check-circle'></i><span>${f}</span></li>`).join("");

    /* ---- modal ---- */
    const imagePreview = $("#imagePreview"), imageModal = $("#imageModal"),
      modalImage = $("#modalImage"), modalClose = $("#modalClose"),
      modalContent = $("#modalContent"), modalPrev = document.getElementById('modalPrev'),
      modalNext = document.getElementById('modalNext'), modalCounter = document.getElementById('modalCounter');

    function updateCounter() {
      if (!modalCounter) return;
      if (gallery.length <= 1) { modalCounter.style.display = 'none'; }
      else { modalCounter.style.display = ''; modalCounter.textContent = (current + 1) + ' / ' + gallery.length; }
    }
    function setModalImageByIndex(i) {
      modalImage.src = gallery[i]; modalImage.alt = data.title + ' – preview ' + (i + 1);
      mainImg.src = gallery[i];
      if (thumbsWrap) { thumbsWrap.querySelectorAll('.pd-thumb').forEach((b, idx) => b.classList.toggle('active', idx === i)); }
      updateCounter();
    }
    function updateModalNav() {
      const atStart = (current === 0), atEnd = (current === gallery.length - 1), show = (gallery.length > 1);
      modalPrev.style.display = show ? '' : 'none';
      modalNext.style.display = show ? '' : 'none';
      modalPrev.disabled = atStart; modalNext.disabled = atEnd;
      modalPrev.classList.toggle('disabled', atStart); modalNext.classList.toggle('disabled', atEnd);
    }
    imagePreview.addEventListener('click', () => {
      if (!gallery.length) return;
      setModalImageByIndex(current);
      imageModal.classList.add('active'); document.body.style.overflow = 'hidden'; updateModalNav();
    });
    modalPrev.addEventListener('click', (e) => { e.stopPropagation(); if (current > 0) { current--; setModalImageByIndex(current); updateModalNav(); } });
    modalNext.addEventListener('click', (e) => { e.stopPropagation(); if (current < gallery.length - 1) { current++; setModalImageByIndex(current); updateModalNav(); } });
    function closeModal() { imageModal.classList.remove('active'); document.body.style.overflow = ''; }
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && imageModal.classList.contains('active')) closeModal();
      if (!imageModal.classList.contains('active')) return;
      if (e.key === 'ArrowLeft' && current > 0) { current--; setModalImageByIndex(current); updateModalNav(); }
      if (e.key === 'ArrowRight' && current < gallery.length - 1) { current++; setModalImageByIndex(current); updateModalNav(); }
    });
    document.getElementById('modalClose').addEventListener('click', (e) => { e.stopPropagation(); closeModal(); });
    imageModal.addEventListener('click', (e) => { if (e.target === imageModal) closeModal(); });
    modalContent.addEventListener('click', (e) => { if (e.target === modalContent) closeModal(); });

    /* ---- kompensasi tinggi navbar ---- */
    (function () {
      const nav = document.querySelector('.navbar'), main = document.querySelector('.main-content');
      if (!nav || !main) return;
      function applyTopPad() {
        const h = nav.getBoundingClientRect().height || 56;
        const isMobile = window.innerWidth <= 560;
        const extra = isMobile ? -70 : -74;
        main.style.paddingTop = Math.max(20, h + extra) + 'px';
      }
      applyTopPad(); window.addEventListener('resize', applyTopPad);
    })();
  </script>

  <script src="https://kit.fontawesome.com/71cd389c2b.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
</body>

</html>